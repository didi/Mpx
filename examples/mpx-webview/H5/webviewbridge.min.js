/**
 * mpxjs webview bridge v2.9.58
 * (c) 2024 @mpxjs team
 * @license Apache
 */
var e,o;e=this,o=function(){"use strict";var e,o,a,n,t=Object.assign({wx:{url:"https://res.wx.qq.com/open/js/jweixin-1.3.2.js"},qq:{url:"https://qqq.gtimg.cn/miniprogram/webview_jssdk/qqjssdk-1.0.0.js"},my:{url:"https://appx/web-view.min.js"},swan:{url:"https://b.bdstatic.com/searchbox/icms/searchbox/js/swan-2.0.4.js"},tt:{url:"https://lf3-cdn-tos.bytegoofy.com/obj/goofy/developer/jssdk/jssdk-1.2.1.js"}},window.sdkUrlMap),i=null,r=0,c=(a=location.href,(n=/mpx_webview_id=(\d+)/g.exec(a))&&n[1]&&(o=+n[1]),o),s={},d=navigator.userAgent;d.indexOf("AlipayClient")>-1&&d.indexOf("MiniProgram")>-1?i="my":d.toLowerCase().indexOf("miniprogram")>-1?i=d.indexOf("QQ")>-1?"qq":"wx":d.indexOf("swan/")>-1?i="swan":d.indexOf("toutiao")>-1?i="tt":(i="web",window.addEventListener("message",(function(e){var o=e.data,a=o;try{"string"==typeof o&&(a=JSON.parse(o))}catch(e){}var n=a,t=n.callbackId,i=n.error,r=n.result;void 0!==t&&s[t]&&(i?s[t](i):s[t](null,r),delete s[t])}),!1));var g=!1;function p(o){g?o():e.then((function(){g=!0,o()}))}var w={config:function(e){"wx"===i?p((function(){window.wx&&window.wx.config(e)})):console.warn("\u975e\u5fae\u4fe1\u73af\u5883\u4e0d\u9700\u8981\u914d\u7f6econfig")}};function l(e){for(var o=arguments.length,a=new Array(o>1?o-1:0),n=1;n<o;n++)a[n-1]=arguments[n];var t=a[0]||{};if("invoke"===e&&(t=a[1]||{}),"getEnv"!==e){var i=++r;s[i]=function(e,o){e?(t.fail&&t.fail(e),t.complete&&t.complete(e)):(t.success&&t.success(o),t.complete&&t.complete(o)),delete s[i]};var d={type:e,callbackId:r,payload:"invoke"===e?a:t};void 0!==c&&(d.clientUid=c),window.ReactNativeWebView?window.ReactNativeWebView.postMessage&&window.ReactNativeWebView.postMessage(JSON.stringify(d)):window.parent.postMessage&&window.parent.postMessage(JSON.stringify(d),"*")}else t({webapp:!0})}var v=function(){var e={wx:{keyName:"miniProgram",api:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","postMessage","getEnv","invoke"]},tt:{keyName:"miniProgram",api:["redirectTo","navigateTo","switchTab","reLaunch","navigateBack","setSwipeBackModeSync","postMessage","getEnv","checkJsApi","chooseImage","compressImage","previewImage","uploadFile","getNetworkType","openLocation","getLocation","invoke"]},swan:{keyName:"webView",api:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage","invoke"]},qq:{keyName:"miniProgram",api:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage","invoke"]}}[i]||{},o={wx:["checkJSApi","chooseImage","previewImage","uploadImage","downloadImage","getLocalImgData","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice","translateVoice","getNetworkType","openLocation","getLocation","startSearchBeacons","stopSearchBeacons","onSearchBeacons","scanQRCode","chooseCard","addCard","openCard"],my:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","chooseImage","previewImage","getLocation","openLocation","alert","showLoading","hideLoading","getNetworkType","startShare","tradePay","postMessage","onMessage","getEnv"],swan:["makePhoneCall","setClipboardData","getNetworkType","openLocation","getLocation","chooseLocation","chooseImage","previewImage","openShare","navigateToSmartProgram"],web:["navigateTo","navigateBack","switchTab","reLaunch","redirectTo","getEnv","postMessage","getLoadError","getLocation","invoke"],tt:[]}[i]||[];(e.api||[]).forEach((function(o){w[o]=function(){for(var a=arguments.length,n=new Array(a),t=0;t<a;t++)n[t]=arguments[t];p((function(){var a;(a=window[i][e.keyName])[o].apply(a,n)}))}})),o.forEach((function(e){w[e]=function(){for(var o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];"web"===i?l.apply(void 0,[e].concat(a)):p("wx"===i?function(){window[i]&&window[i].ready((function(){var o;(o=window[i])[e].apply(o,a)}))}:function(){var o;(o=window[i])[e].apply(o,a)})}}))};return e="web"!==i?t[i].url?function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.time,n=void 0===a?5e3:a,t=o.crossOrigin,i=void 0!==t&&t;function r(){return new Promise((function(o,a){var n=document.createElement("script");n.type="text/javascript",n.async="async",i&&(n.crossOrigin="anonymous"),n.onload=n.onreadystatechange=function(){this.readyState&&!/^(loaded|complete)$/.test(this.readyState)||(o(),n.onload=n.onreadystatechange=null)},n.onerror=function(){a(new Error("load ".concat(e," error"))),n.onerror=null},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}))}function c(){return new Promise((function(o,a){setTimeout((function(){a(new Error("load ".concat(e," timeout")))}),n)}))}return Promise.race([r(),c()])}(t[i].url):Promise.reject(new Error("\u672a\u627e\u5230\u5bf9\u5e94\u7684sdk")):Promise.resolve(),v(),w},"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e=e||self).mpx=o();